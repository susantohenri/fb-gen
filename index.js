var names = ['Syafie','Muhammad','Zaim','Agus','Joko','Susilo','Samuel','Anderson','Friyadi','Simamora','Pujianto','Wahyu','Nugroho','Edwin','Nurdiansyah','Yopie','Roy','Munanto','Rahadian','Rahim','Roby','sugara','Awaluddin','Siregar','Sumitro','Ariadi','nidyan','rahyan','warigalit','Deden','Hermawan','wisnu','koentjoro','soka','adista','fajar','wirawan','Muhammad','Rukyat','Cahyo','Kurnia','Katiko','Utomo','T Fany','surya','akbar','Piqhi','Rizqi','R','Eko','Noviyanto','Didit','Susanto','Amy','Prio','Pambudi','Agus','kiswanto','SUWANDI','ARIS','BUDIANTO','WIBOWO','Akhmad','Junaidi','jeffry','wigunawan','Stevanus','Yasa','Adi','Wibowo','Yoga','Permana','Hendry','Yunarko','Riyanto','deska','haerman','Hari','Subagio','Wahyu','Pujo','Leksono','Munawir','Kholi','Rusdi','Effendi','Freddy','Yoanes','Patty','Ari','Widananto','Abdulloh','Juliawan','Imam','Rifai','Sutrisno','Putu','Wirna','Jaya','Ramdan','Fauzi','Alif48','Yoseph','Martrihantoko','Faizal','Muhyidiansyah','Sandy','Satriyadi','Putra','Bedley','kusuma','yudha','KHOLID','mutaqien','mukhlis','Agung','Prasetyo','Kurniawan','Chandra','albeta','Zuremi','Azhar','Annas','anang','nuari','Wibisono','Franky','Nainggolan','Himawan','Meidayanto','Hendra','wijaya','kesuma','Handrias','Septian','Firmansyah','C','Rachmat','Hidayat','Harry','Fitriana','Achmat','Afif','Dede','irfan','Defrindo','Indria','Putra','Andri','Teguh','Prasetyo','Tri','Wahyudi','mokh','pandu','yanuki','Sigit','Widodo','Muh','Rizal','Seandy','Handriyanto','Minanul','Wasik','Harry','Santoso','Nurrochim','akhmad','fauzan','Parawin','Wijayanto','Adiwijaya','Cahyo','Budi','Santoso','Mohammad','Avino','Pradipta','Adma','tomi','caisar','Adhitya','Burhan','Mustofa','Dendy','dwi','haryono','Handoko','Agung','Prabowo','Budi','Setiawan','Praditya','Eko','Wibowo','Ridhya','Rachman','Dasuki','Fahmi','Slamet','Sujoko','yuliyanti','Kusnanto9','Leo','Nigohando','Nainggolan','Novitrian','Moch','Yendra','Malik','Irfan','Firdaus','Mardiansyah','Putra','Denny','dharma','setiawan','Moh','Arif','Kusnadi','Sri','Widodo','Apriansyah','endri','priyanto','Fuad','Fannani','Budi','Mulyanna','Rudy','halim','Riza','Rusmawan','Robi','sumarno','Bebih','Irawan','Ruhimat','yudi','purwanto','Ridho','Setiawan','Eka','Welsin','Jumilady','JOKO','PRABOWO','Kurnianto','Hadi','Saputro','Daniel','Saputra','Mohammad','Qomarullah','Zaman','Rudi','Edial','El','Lejar','Jaja','Sutarja','Al','Imron','Herbayu','Aditya','Hafid','Citra','Wijanarko','Andrianto','Hendro','Tri','Cahyono','Usman','Hadi','Bery','Darmawan','Andik','Chusdianto','doan','marvin','senduk','Amrida','Panji','Satryo','Pramulis','wahyudi','prihandono','Wahyu','Evendy','Frengky','Oktanto','Sudrajat','fredie','koswara','Sirojudin','Pitono','Ganesha','Arief','Rachman','Putra','Ntawidhi','Danang','Adiwibowo','ihwan','maulana','hidayat','Muhaimin','Irun','Saputra','Horas','Butarbutar','Beni','ali','musthofa','suhendri','Ali','Muzahim','M','Agung','Budi','Ihsan','abbas','wahyudi','Theo','Arcie','Nurvianto','Herbin','Situmorang','Seti','Adji','Kukuh','Prambudi','Andi','Kuswandi','heri','Syuhainil','Eka','Indra','Jaya','Candra','Pramujiono','Kiswanto','Immanuel','Yanto','Ardion','bahari','pratama','yudianto','vikri','sebastian','Paulus','Kristianto','Miftachul','Azis','Joko','Sriyono','meidi','ferdian','Algifaril','Huda','Kandaya','budi','rahmad','Robby','Diding','fajri','kuri','nurhidayat','heru','santoso','Yogi','Somantri','Arif','Fauzi','M Afdil','Rinaldi','Abdul','Halim','Roy','Faliant','hendrico','winner','simanjuntak','afif','alimuddin','Weryanto','Thenaryo','Danu','prihatso','Agung','Ramadhani','Danny','Mulyawardhana','Muhamad','Fachrudin','Agung','Ramadhani','Ganda','Scorpio','Firnando','Situmorang','Seto','Dwitanto','Rendy','Sunandar','Kristiyanto','Agus','Susilo','firman','faturachman','Robin','Cahyadi','Peter','Stevanus','Lilipaly','Arif','Rizal','DWI','ARKO','PURWANTO','Rochmat','Tomi','S','Riwan R','Sinurat','walian','hardinata','Janri','Rombe','Allo','Heru','Subiyono','Sulistyo','Hartanto','Nicholas','Sihotang','mugi','prihantoro','Budhi','Adji','matheus','prihadi','Anggara','Ardhy','Pratama','Muhammad','Abdurrahman','Rodi','Mulyadi','Amir','Aminuddin','Kamil','Ridwan','Noor','Ramadhan','Mardoni','Lukman','Alwi','Sali','hady','wijaya','Jefriadi','Silaban','Teto','Adhitya','andi','andriyono','Sudi','Priatmo','Nur','Rohim','Ahmad','Amanu','S','M firdaus','Syah','alam','Yedi','Wahyudi','Muhamad','Robani','Bambang','Wiro','Indrayanto','Lucky','rendra','ferdiyawan','Hafidz','Muhammad','Rizal','Dodik','Irwanto','Muhamad','Robani','yeremia','zega','Abdul','Mazid','Hendarto','Sahrodi','Yovan','Gustava','Sunaryo','Emil','Fajri','Poham','Sulistio','Tatak','Abimanyu','Kamaludin','Henry','Levin','Arcadia','Sofialdin','abdul','kholiq','yasid','Abdul','Ghofar','Ade','Kurniawan','Surya','Perdana','Marwan','Lutfi','M syaibani','Rudi','Rendi','Suherman','Iwan','Hendarto','Soebagio','Felby','Andella','Agustinus','Patrick','Sephira','Taum','Dwinanto','Endang','Syarif','Hidayatulloh','Wisnu','Yudha','Darmawan','Muhammad','Ammar','Zakky','Moh','Maliki','Felix','Johan','Setyawan','christ','Ariefianto','Pramudya','Joko','Mulyono','Nedi','Ali','Samra','Ricardo','Iman','Hidayat','Deddy','Christian','boby','prihandani','MOCH','ZULFIKAR','EKA','PRAYOGA','Suparno','Amin','Mustolih','Anton','Kurniawan','Arifin','Saputra','Noval','Kahfi','Pittor','Parlindungan','Hasibuan','Toto','Sugianto','Parmonangan','Harahap','Kentas','Lintang','Maharsi','Ridwan','setiawan','Yopie','Baktiar','Anang','Ardiansyah','Lazuardi','Susilo','M','Jaka','Tri','Widada','Hadi','Nugroho','Fajar','Muji','Sukarno','Antonius','Wendy','Octavianus','Yudisida','Novihardi','Dodi','Nasution','Pambudhi','Eko','Cahyono','Edi','Kusnanto','Deazly','Pramdhita','Achmad','Muhammad','Andriyanto','Daniel','Gunawan','Riyo','Arvianto','Wibowo','Erwin','Suryanto','Adi','Khamson','Edi','Junaedi','Nur','Hana','Wijaya','Mukhtaruddin','Tonny','Irwan','Susanto','Anjar','Setiabudi','Joko','Iswandi','Machmana','Saiful','Islam','Anggun','Badu','Kusuma','Danu','Pratowo','Agung','Syahroni','Yudha','Adi','Komara','Achmad','Nurhisam','Indra','Abraham','Ashuri','Eko','Hari','Sulistyo','Taufik','Hidayat','Herry','Eka','Dinata','Syarif','Septian','Eko','Purnomo','Sefendri','Heppy','Endrayanto','Prasetyo','Syaiful','Erik','Prayoga','Dedy','Putra','Khoeron','Nasir','Sulvian','Hindianto','Agus','Permana','Moh','Maryono','M Aditya','Putra','Pratama','Iwan','Bastian','Hasan','Ismail','Prima','Aji','Widia','Wiyata','aditya','wahyu','kusuma','Hendra','Prihambodo','Eko','Hendroyono','Dimas','Agung','Setyawan','Pandu','Lizal','Kurniawan','Hoddy','Sijabat','Rendi','Ansy','Jufri','Irmanto','Puatipanna','Reza','Heriyanto','Andri','Hidayatullah','Tris','Ramadhan','Didik','Sugiarto','Edi','Sarwana','Achyas','Apandi','Rustam','Effendi','Samodero','Gumilar','Rachmat','Rama','Rifai','Tondrang','abednego','setiawan','Hadi','Surawijaya','Agung','Ariwibowo','Ismail','Mustapa','Defri','Julian','Fatihul','Fuadi','Yacob','Pranoto','Priyanto','ANDRI','NAJIBURRAHMAN','Riadi','Ginting','Reisal','prabaya','Wahyu','Arya','Pratama','Firmansyah','Edward','Arifianto','Benny','Allan','Alfian','Doni','Witanto','Tommy','Ferdianto','Muh','Basri','Iyu','Dimas','Aprinando','Kusuma','John','Rinaldi','Simanjuntak','Billy','Maulana','Saputro','Oyong','Are','Nugroho','Ibnu','Romadhona','Rangga','Aditya','Pradana','Maskun','Edwan','Wiguna','Odi','Sefriadi','Agus','Yulianto','Rezha','Fahrizha','Faisal','Amir','Haryono','Handy','Sanjaya','Mochamad','Ivan','Ismail','Zulkifli','wahyudi','JD','Tri','Wahyu','Widodo','Imung','Budi','Pamungkas','Khairun','Nizam','Pohan','denny','umar','faruq','Irfan','Puji','Raharjo','deni','hudaeni','Yandriano','Ahmad','Syarif','Morainsyah','Parlaungan','Harahap','Samadi','Novi','Dayu','Widodo','Tody','Ariyanto','Sabarudin','Agus','Yanto','Muhamad','Yasin','Herman','Dwi','Candra','Wicaksana','Umar','nurrozaq','Yanuar','Rachman','sadewa','Iman','Sulaeman','Widodo','Nuryanto','Muhammad','Faisal','Amri','Dhendi','Kurniawan','Dodi','Efendi','Deni','Subekti','Iswan','Hardiansyah','Wendi','Rianto','Sutarsa','Rifky','Afrilianto','Wahyu','Fajar','Wijaya','Handri','Gunawan','Zulham','Julhi','Sandy','Pratama','Adikarta','James','Robert','Leonardo','Awuy','Ronald','Christian','Sumarauw','Jeffry','chandra','Moch','Nugraha','Rohmat','Feru','Arie','Kurniawan','Muhamad','Kemal','Syafroni','Iis','Andriana','Suarman','Juan','Benyamin','Ahmad','Rifqi','Fadhillah','Ade','Chandra','Reifi','Yarid','Nante','Moch','Heri','Susanto','Juli','Herwansyah','Said','Banyal','Luly','Hakim','Muriyono','Theodorus','Adi','Nugroho','Kriswanto','Badai','Vana','Prastha','Kevin','Ahmadi','Arif','Sri','Nurcahyo','Andro','Harapan','Siregar','Timotius','Berlian','Yogi','Ananto','Wantono','Stefanus','Enok','M Ramli','Roly','Eko','Susilo','Febrian','Adhitya','Wijaya','A','Didik','Setiawan','Adi','Kusuma','iwan','novira','Abraham','Alfan','Yunan','Daniar','Sigit','Priyo','Sambodo','Wilarno','Eko','Setyawan','Saefudin','Febrian','Djaka','Putra','Zaki','Maulana','Rahman','Rully','Nurul','Iman','Wahyu','Febriansyah','Mulyana','Sandi','Bowo','Laksono','Benjamin','Sitompul','Taufan','Fatkhurahman','Priatmojo','Mahendrata','Aditya','Akbar','Ketut','Budayana','Indra','I','Made','Tomy','Wirawan','S','Muhammad','Iqbal','Nowon','Tri','Ratno','Nur','Ikhsan','Afif','Fauzie','Arfan','Afandi','Nurfahmi','Budi','Prasetyo','Aditia','Khadafi','Rendy','Setiawan','Firdi','Widiana','Fatria','Danial','Irsyal','Dede','Nana','Suryatna','Manganju','H','Simanullang','Ferdinand','Wesly','Marpaung','Eka','Nugraha','Syafrunizar','Tendi','Chrisyanto','Amirullah','Didi','Junaedi','Randy','Setia','Darma','Agus','Priyanto','Juwito','Hermanto','FX','Supriyanto','Andi','Pramono','Hendro','Asisco','Afani','Firmansyah','Arfan','Dedi','Ismail','Abdul','Rivai','Jamal','Bobsaid','Asep','Hermawan','Robiyadi','Suhaimi','Agung','Swandaru','Imam','Maliki','Yahya','Awaludin','Riki','Ridwan','Moch','Ramdani','Hananto','Susilo']
var proxies = []
var proxy = proxies[Math.floor(Math.random() * proxies.length - 1)]
const Nightmare = require('nightmare')
var fb = Nightmare({show:true, webPreferences: {images: false}, typeInterval: 20, switches:{'proxy-server': proxy}})
var mail = null

fb.goto('https://www.facebook.com/')
.then(() => {
	mail = Nightmare({show:true, webPreferences: {images: false}, waitTimeout: 300000, openDevTools: true})
	return mail
	.goto('https://10minutemail.net/')
	.wait('#fe_text')
	.evaluate(() => {
		return $('#fe_text').val()
	})
})
.then((email) => {
	first = Math.floor(Math.random() * names.length - 1)
	last = Math.floor(Math.random() * names.length - 1)
	return fb
		.wait('[name="firstname"]')
		.type('[name="firstname"]', names[first])
		.type('[name="lastname"]', names[last])
		.select('[name="birthday_day"]', Math.floor(Math.random() * 28))
		.select('[name="birthday_month"]', Math.floor(Math.random() * 12))
		.select('[name="birthday_month"]', Math.floor(Math.random() * 12))
		.select('[name="birthday_year"]',  Math.floor(Math.random() * 20) + 1970)
		.click('[name="sex"][value="2"]')
		.type('[name="reg_passwd__"]', 'x123123x')
		.type('[name="reg_email__"]', email)
		.type('[name="reg_email_confirmation__"]', email)
		.click('[name="websubmit"]')
})
.then(() => {
	return mail
		.wait()
		.wait(() => {
			return $('tbody tr[onclick]').length > 1
		})
		.evaluate(() => {
			return $('tbody tr[onclick]:eq(0) td:eq(1)').html().split('>')[1].split(' ')[0]
		})
})
.then(code => {
	console.log(code)
	return fb
		.type('[name="code"]', code)
		.click('[name="confirm"]')
		.wait('[ajaxify*="action=skip"]')
		.click('[ajaxify*="action=skip"]')
		.wait('[ajaxify*="action=skip&sure=1"]')
		.click('[ajaxify*="action=skip&sure=1"]')
})